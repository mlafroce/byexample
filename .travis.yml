branches:
    only:
        - master
        - next-major
        - next-minor
        - next-patch
        - tmp
        - one-docker-to-rule-em-all

env:
    global:
      - BYEXAMPLE_CACHE_DISABLED=0
      - 'PYTHONWARNINGS=ignore:::byexample.cache'

install: make deps-dev
script: make test

matrix:
    include:
        - name: "OSX"
          language: sh
          os: osx
          addons:
          homebrew:
            update: true
            packages: python3
          before_install:
            - pip3 install virtualenv
            - virtualenv -p python3 ~/venv
            - source ~/venv/bin/activate
